# üöó Ilialox Auto Service - CRM —Å–∏—Å—Ç–µ–º–∞

–ü–æ–ª–Ω–∞—è CRM —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å–∞ —Å –ø—É–±–ª–∏—á–Ω—ã–º —Å–∞–π—Ç–æ–º –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ –ø–∞–Ω–µ–ª—å—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
ilialox/
‚îú‚îÄ‚îÄ backend/          # Backend API (Node.js + Express + Prisma + PostgreSQL)
‚îú‚îÄ‚îÄ public-site/      # –ü—É–±–ª–∏—á–Ω—ã–π —Å–∞–π—Ç (React + Vite) - –ø–æ—Ä—Ç 3000
‚îú‚îÄ‚îÄ crm/              # CRM –ø–∞–Ω–µ–ª—å (React + Vite) - –ø–æ—Ä—Ç 5173
‚îî‚îÄ‚îÄ MIGRATION_GUIDE.md
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. Backend
```bash
cd backend
npm install          # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
npm run dev          # –ó–∞–ø—É—Å–∫ –Ω–∞ http://localhost:5000
```

**–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫:**
```bash
cd backend
npm run seed         # –°–æ–∑–¥–∞—Å—Ç –∞–¥–º–∏–Ω–∞ –∏ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
```

### 2. Public Site (–ü—É–±–ª–∏—á–Ω—ã–π —Å–∞–π—Ç)
```bash
cd public-site
npm install
npm run dev          # –û—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–∞ http://localhost:3000
```

**–§—É–Ω–∫—Ü–∏–∏:**
- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å–µ
- –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–∫–∏ –Ω–∞ —Ä–µ–º–æ–Ω—Ç
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞—è–≤–∫–∏

### 3. CRM (–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
```bash
cd crm
npm install
npm run dev          # –û—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–∞ http://localhost:5173
```

**–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É:**
- Email: `admin@ilialox.com`
- –ü–∞—Ä–æ–ª—å: `admin123`

**–§—É–Ω–∫—Ü–∏–∏:**
- Dashboard —Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∞–º–∏
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Ä–∞–±–æ—Ç
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞–º–∏

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**PostgreSQL –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω–∞!**

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ `backend/.env`:
```env
DATABASE_URL="postgresql://postgres:SaKrAt-2008_re!!!@localhost:5432/ilialox_crm"
```

–°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü:
```bash
cd backend
npx prisma db push
```

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Backend
- Node.js + Express
- Prisma ORM
- PostgreSQL
- JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- bcrypt –¥–ª—è –ø–∞—Ä–æ–ª–µ–π

### Frontend (–æ–±–∞ –ø—Ä–æ–µ–∫—Ç–∞)
- React 18
- TypeScript
- Vite
- React Router
- Axios
- Tailwind CSS
- Zod –≤–∞–ª–∏–¥–∞—Ü–∏—è
- React Hook Form

### CRM –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
- Radix UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- Recharts –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
- Lucide React –∏–∫–æ–Ω–∫–∏
- Date-fns

## üìä API Endpoints

### Public (–±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
- `POST /api/public/requests` - –°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É
- `GET /api/public/track/:token` - –û—Ç—Å–ª–µ–¥–∏—Ç—å –ø–æ —Ç–æ–∫–µ–Ω—É
- `GET /api/public/track/number/:number` - –û—Ç—Å–ª–µ–¥–∏—Ç—å –ø–æ –Ω–æ–º–µ—Ä—É

### Auth
- `POST /api/auth/login` - –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

### Protected (—Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
- `GET /api/dashboard/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `GET /api/requests` - –°–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫
- `GET /api/requests/:id` - –î–µ—Ç–∞–ª–∏ –∑–∞—è–≤–∫–∏
- `PATCH /api/requests/:id/status` - –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å
- `PATCH /api/requests/:id/assign` - –ù–∞–∑–Ω–∞—á–∏—Ç—å –º–∞—Å—Ç–µ—Ä–∞
- `POST /api/requests/:id/works` - –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–±–æ—Ç—É

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API: [API_DOCUMENTATION.md](./API_DOCUMENTATION.md)

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π bcrypt
- CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ backend

## üé® UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### Public Site
- –ü—Ä–æ—Å—Ç–æ–π, –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –¥–∏–∑–∞–π–Ω
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞
- –§–æ—Ä–º—ã —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π

### CRM
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI —Å Radix UI
- Dark mode –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- –¢–∞–±–ª–∏—Ü—ã, –≥—Ä–∞—Ñ–∏–∫–∏, –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
- Drag & drop (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

## üì± –ü–æ—Ä—Ç—ã

- **3000** - Public Site (–ø—É–±–ª–∏—á–Ω—ã–π —Å–∞–π—Ç)
- **5000** - Backend API
- **5173** - CRM (–ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

–°–æ–∑–¥–∞–π—Ç–µ `start-all.bat`:
```batch
start cmd /k "cd backend && npm run dev"
start cmd /k "cd public-site && npm run dev"
start cmd /k "cd crm && npm run dev"
```

### –°–±–æ—Ä–∫–∞ –¥–ª—è production

```bash
# Public Site
cd public-site && npm run build

# CRM
cd crm && npm run build

# Backend –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Å–±–æ—Ä–∫–∏
cd backend && npm start
```

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å –Ω—É–ª—è

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL –∏ —Å–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É `ilialox_crm`
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:
   ```bash
   cd backend && npm install
   cd ../public-site && npm install
   cd ../crm && npm install
   ```
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `.env` —Ñ–∞–π–ª—ã
5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏: `cd backend && npx prisma db push`
6. –°–æ–∑–¥–∞–π—Ç–µ –∞–¥–º–∏–Ω–∞: `npm run seed`
7. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã

## üêõ –û—Ç–ª–∞–¥–∫–∞

### Backend –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –ë–î
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `DATABASE_URL` –≤ `.env`
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `cd backend && npx prisma db push`

### –§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ API
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `VITE_API_URL` –≤ `.env` –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 5000

### –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç
- –ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ `vite.config.ts` (frontend) –∏–ª–∏ `.env` (backend)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## üë• –ê–≤—Ç–æ—Ä

Ilialox Team

---

**–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:**
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏](./MIGRATION_GUIDE.md)
- [API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](./API_DOCUMENTATION.md)
- [–ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](./DEVELOPMENT_PLAN.md)
